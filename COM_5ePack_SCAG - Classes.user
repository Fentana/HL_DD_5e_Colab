<?xml version="1.0" encoding="UTF-8"?>
<document signature="Hero Lab Data">
  <thing id="c5CWIZBld" name="Bladesinging" description="Bladesingers are elves.\nThey are brave and defend their kind. \nThey are elf wizards who train sword fighting complimented with arcane magic." compset="CustomSpec" summary="Bladesingers are elves who bravely defend their people and lands." uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="SpecSource" tag="cHelpWiz" name="Wizard" abbrev="Wizard"/>
    <tag group="abCategory" tag="WizArcTrad" name="Wizard Arcane Tradition" abbrev="Wizard Arcane Tradition"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="ProductId" tag="Wizards"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <bootstrap thing="c5CWizSoD">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CWizSoV">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="c5CWizTiWS">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="c5CWizBlS">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cExtraAtt">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <exprreq message="You must be an elf or half-elf to become a Bladesinger."><![CDATA[#hasrace[rElf] + #hasrace[rHalfElf] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWizTiWS" name="Training in War and Song" description="This gives you proficiency with light armor, one type of one-handed melee weaponas well as  proficiency in the Performance skill if you don&apos;t already have it." compset="ClSpecial" summary="Training in War and Song">
    <fieldval field="usrCandid1" value="component.BaseWep &amp; !wProperty.TwoHanded &amp; wCategory.Melee &amp; !wGroup.Natural &amp; !Helper.Helper"/>
    <usesource source="5eSCAGCP"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <eval phase="PostLevel" priority="500" index="2"><![CDATA[ ~If we're not selected, get out

      doneif (tagis[Helper.Disable] <> 0)

      perform hero.assign[ProfSkill.skPerform]
      perform hero.assign[ArmProfGrp.ArmorLight]

      ~ If we've not chosen anything, get out
      doneif (field[usrChosen1].ischosen = 0)

      ~ Assign the identity tag for the proficiency
      var id as string
      id = field[usrChosen1].chosen.idstring
      perform field[usrChosen1].chosen.forward[WepProf.?]
      foreach pick in hero where "IsWeapon." & id
        perform eachpick.assign[Broadcast.WepProf]
        perform eachpick.assign[Helper.ExoticProf]
        nexteach]]></eval>
    <eval phase="First"><![CDATA[~ Stop if this class special is disabled
doneif (tagis[Helper.Disable] <> 0)

perform hero.assign[ProfSkill.skPerform]]]></eval>
    </thing>
  <thing id="c5CWizBlS" name="Bladesong" description="You can use Bladesong unless you're wearing medium or heavy armor or using a shield.  \n\nStarting the Bladesong takes a bonus action and lasts for a minute, ending early if you are incapacitated, make a 2-handed weapon attack, change your armor/shield into one of the previously mentioned or decide to dismiss it (no action.)\n\nBladesong gives you the following while active: \n• AC bonus equal to your Intelligence modifier (minimum of +1). \n• 10 feet increase to your walking speed. \n• Advantage on Dexterity (Acrobatics) checks. \n• Your Intelligence modifier (minimum +1) as a bonus to any Constitution saving throw you make to maintain your concentration on a spell.. \n\nBladesong can be used twice, recharges on a short or long rest." compset="ClSpecial" summary="You can invoke a secret elven magic called the Bladesong.">
    <fieldval field="abRange" value="Self"/>
    <fieldval field="abDuration" value="1"/>
    <fieldval field="actName" value="Bladesong"/>
    <fieldval field="trkMax" value="2"/>
    <usesource source="5eSCAGCP"/>
    <tag group="Usage" tag="ShortRest"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="User" tag="Activation"/>
    <tag group="abDuration" tag="Minute"/>
    <tag group="User" tag="Tracker"/>
    <eval phase="PostAttr">field[abValue].value = #attrbonus1[aINT]</eval>
    <eval phase="PostAttr" priority="1000" index="2"><![CDATA[doneif (tagis[Helper.ShowSpec] = 0)

      doneif (tagis[Helper.Disable] <> 0)

      doneif (field[abilActive].value = 0)

hero.childfound[ArmorClass].field[Bonus].value += field[abValue].value
hero.child[Speed].field[Bonus].value += 10
#situational[hero.child[svCON],"+ Intelligence Modifier (minimum 1) to maintain concentration",field[thingname].text]
#situational[hero.child[skAcrobat],"Advantage on Acrobatics checks",field[thingname].text]

doneif (#levelcount[Wizard] < 14)

       foreach pick in hero from BaseWep where "wCategory.Melee"
           eachpick.field[dmmBonus].value += field[abValue].value
       nexteach]]></eval>
    </thing>
  <thing id="c5CWizSoD" name="Song of Defense" description="When you take damage while your Bladesong is active, you can use your reaction to expend one spell slot and reduce that damage to you by five times the spell slot&apos;s level." compset="ClSpecial" summary="Spell Slots can be used for defense.">
    <usesource source="5eSCAGCP"/>
    <tag group="abAction" tag="Reaction"/>
    </thing>
  <thing id="c5CWizSoV" name="Song of Victory" description="Starting at 14th level, you add your Intelligence modifier (minimum of +1) to the damage of your melee weapon attacks while your Bladesong is active." compset="ClSpecial" summary="Intelligence adds Damage">
    <usesource source="5eSCAGCP"/>
    </thing>
  <thing id="c5CSrcStSo" name="Stom Sorcery" description="A sorcerer who&apos;s magic comes from the power of elemental air." compset="CustomSpec" summary="A sorcerer who&apos;s magic comes from the power of elemental air." uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpSor" name="Sorcerer" abbrev="Sorcerer"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <bootstrap thing="c5CSrcWiSp">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CSrcTeMa">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CSrcHotS">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CSrcStGu">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CSrcStFu">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cCSrcWiSo">
      <autotag group="ClSpecWhen" tag="18"/>
      </bootstrap>
    </thing>
  <thing id="c5CSrcWiSp" name="Wind Speaker" description="You can speak, read, and write Primordial. (Which allows you to understand and be understood speakers of Aquan, Auran, Ignan, and Terran.)" compset="ClSpecial" summary="You can speak, read, and write Primordial.">
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    </thing>
  <thing id="c5CSrcTeMa" name="Tempestuous Magic" description="Use a bonus action on your turn, immediately before or after you cast a spell of 1st level or higher, to have whirling gusts of elemental air fly you up to 10 feet without provoking opportunity attacks." compset="ClSpecial" summary="You can use a bonus action on your turn to cause whirling gusts of elemental air to briefly surround you">
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="abAction" tag="Bonus"/>
    </thing>
  <thing id="c5CSrcHotS" name="Heart of the Storm" description="You gain resistance to lightning and thunder damage. Whenever you start to cast a spell of 1st level or higher that deals lightning or thunder damage, magic of the storm erupts from you, causing creatures of your choice within 10 feet of you that you can see to take either lightning or thunder damage equal to half your sorcerer level." compset="ClSpecial" summary="you gain resistance to lightning and thunder damage.">
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="abAction" tag="Bonus"/>
    <eval phase="First"><![CDATA[
      doneif (field[usrChosen1].ischosen = 0)

      perform field[usrChosen1].chosen.pulltags[DamageRes.?]

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      ~ If we're disabled, do nothing
      doneif (tagis[Helper.Disable] <> 0)

      perform forward[DamageRes.dtLightnin]
      perform forward[DamageRes.dtThunder]]]></eval>
    </thing>
  <thing id="c5CSrcStGu" name="Storm Guide" description="You have the ability to subtly control the weather around you.\n\nYou can use an action to cause the rain in a 20-foot-radius sphere centered on you to stop falling. You can resume the rain as a bonus action.\n\nYou can use a bonus action to choose the direction but not speed that the wind blows this round in a 100-foot-radius sphere centered on you." compset="ClSpecial" summary="You gain the ability to subtly control the weather around you.">
    <tag group="abAction" tag="Bonus"/>
    <tag group="abAction" tag="Action"/>
    </thing>
  <thing id="c5CSrcStFu" name="Storm&apos;s Fury" description="When hit by a melee attack, you can use your reaction to deal lightning damage equal to your sorcerer level to the attacker, who must also make a Strength saving throw against your sorcerer spell save DC or be pushed in a straight line up to 20 feet away from you." compset="ClSpecial" summary="When you are hit by a melee attack, you can use your reaction to deal lightning damage to the attacker.">
    <tag group="abAction" tag="Reaction"/>
    </thing>
  <thing id="cCSrcWiSo" name="Wind Soul" description="You gain immunity to lightning and thunder damage and a magical flying speed of 60 feet. As an action, you your flying speed becomes 30 for one hour and up to 3+your Charisma modifier creatures within 30 feet of you equal to 3 +your Charisma modifier get the same flying speed. This recharges on a short or long rest" compset="ClSpecial" summary="You gain immunity to lightning and thunder damage and learn to fly.">
    <tag group="abAction" tag="Action"/>
    <bootstrap thing="xFly">
      <autotag group="Value" tag="60"/>
      </bootstrap>
    </thing>
  <thing id="c5CWlkUndy" name="The Undying" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="ClsAllowSp" tag="sp5CRaySi" name="Ray of Sickness" abbrev="Ray of Sickness"/>
    <tag group="ClsAllowSp" tag="spBlinDeaf" name="Blindness/deafness" abbrev="Blindness/deafness"/>
    <tag group="ClsAllowSp" tag="spSilence" name="Silence" abbrev="Silence"/>
    <tag group="ClsAllowSp" tag="sp5CFeignD" name="Feign death" abbrev="Feign death"/>
    <tag group="ClsAllowSp" tag="spSpeaDead" name="Speak with dead" abbrev="Speak with dead"/>
    <tag group="ClsAllowSp" tag="sp5CAurLif" name="Aura of Life" abbrev="Aura of Life"/>
    <tag group="ClsAllowSp" tag="spDeatWard" name="Death Ward" abbrev="Death Ward"/>
    <tag group="ClsAllowSp" tag="spContagio" name="Contagion" abbrev="Contagion"/>
    <tag group="ClsAllowSp" tag="spLegeLore" name="Legend Lore" abbrev="Legend Lore"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abCategory" tag="WlkOthPatr" name="Warlock Otherworldly Patron" abbrev="Warlock Otherworldly Patron"/>
    <tag group="ClsAllowSp" tag="spFalsLife" name="False Life" abbrev="False Life"/>
    <bootstrap thing="c5CWlkDeDe">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CWlkUnNa">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CWlkInLi">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="c5CWlkAmtD">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000">doneif (islinkage[table] = 0)

      perform linkage[table].pushtags[ClsAllowSp.?]</eval>
    </thing>
  <thing id="c5CWlkAmtD" name="Among the Dead" description="You learn the spare the dying cantrip, as a warlock cantrip. You have advantage on saving throws against any disease.\n\If an undead targets you directly a a harmful spell or an attack, it must make a Wisdom saving throw against your spell save DC or it must choose a new target or forfeit targeting someone instead of you. If it succeeds on the save, or you target it with an attack or a harmful spell, it is immune to this effect for 24 hours." compset="ClSpecial">
    <tag group="abAction" tag="None"/>
    <bootstrap thing="sp5CSpareD">
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="BonusSplAt" tag="1"/>
      <autotag group="SpellType" tag="cHelpWlk"/>
      </bootstrap>
    </thing>
  <thing id="c5CWlkDeDe" name="Defy Death" description="Once per long rest, when you succeed on a death save or stabilize a creature with spare the dying you can regain 1d8 + your Constitution modifier hit points (minimum of 1 hit point.)" compset="ClSpecial" summary="You can give yourself vitality when you cheat death or when you help someone else cheat it.">
    <fieldval field="trkMax" value="1"/>
    <tag group="SpInfo" tag="sp5CSpareD"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abAction" tag="None"/>
    <tag group="Usage" tag="LongRest"/>
    </thing>
  <thing id="c5CWlkUnNa" name="Undying Nature" description="You don&apos;t require food, water, or sleep and can hold your breath indefinitely, though rest is still need to reduce exhaustion, and finishing short and long rests affect you as normal.\n\nAlso you age slowly, you are immune to being magically aged and age only 1 year for every 10 that pass." compset="ClSpecial" summary="You can hold your breath indefinitely, and you don&apos;t require food, water, or sleep.">
    <tag group="abAction" tag="None"/>
    </thing>
  <thing id="c5CWlkInLi" name="Indestructible Life" description="Use a bonus action on your turn to regain 1d8 + your warlock level hit points and, if neccessary, any severed body part you hold in place reattaches.\n\nThis ability recharges when you finish a short or long rest." compset="ClSpecial" summary=" On your turn, you can use a bonus action to regain hit points equal to 1d8 + your warlock level.">
    <tag group="abAction" tag="Bonus"/>
    </thing>
  <thing id="c5CBbnPotB" name="Path of the Battlerager" description="Battleragers are a type of dwarven fighter whose combat style relies on raw instinct, anger and physical strength. The individuals who practice this type of fighting are usually mentally unstable with a low life expectancy.\n\nDespite this simple attitude, battleragers are a key element of dwarven warfare. Their almost suicidal style allows more strategic fighters to plan and execute more complex techniques, on already worn down enemies." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="abCategory" tag="BbnPriPath" name="Barbarian Primal Path" abbrev="Barbarian Primal Path"/>
    <tag group="SpecSource" tag="cHelpBbn" name="Barbarian" abbrev="Barbarian"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="c5CBbnBaCh">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CBbnSpRe">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="c5CBbnBaAr">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CBbnReAb">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <pickreq thing="rDwarf"/>
    </thing>
  <thing id="c5CBbnBaAr" name="Battlerager Armor" description="You can now use spiked armor as a weapon.\n\nWhile raging  you can use a bonus action to make one attack with your armor spikes as a melee weapon (using Strength modifier for attack and damage rolls) against a target within 5 feet, dealing 1d4 piercing damage. \n\nA successful grappling check causes 3 piercing damage to your target." compset="ClSpecial" summary="You gain the ability to use spiked armor as a weapon.">
    <fieldval field="abRange" value="5"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="abDuration" tag="Instant"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[

      ~These calculations should only happen for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)
      field[abValue].value += field[xCount].value

      if (field[xCount].value > 1) then
        field[abText].text = "dice"
        perform assign[LvNamePar.AppValue]
        perform assign[LvNamePar.AppText]
        endif]]></eval>
    <eval phase="Render" priority="10000" index="2"><![CDATA[
      if (field[xIndex].value >= 2) then
        field[listname].text = field[thingname].text & " (" & field[xIndex].value & " dice)"
      else
        field[listname].text = field[thingname].text & " (" & field[xIndex].value & " die)"
        endif]]></eval>
    </thing>
  <thing id="c5CBbnReAb" name="Reckless Abandon" description="You gain your Constituion modifier (minimum 1) temporary hitpoints when you use Reckless Attack while raging, which vanish if any are left when your rage ends." compset="ClSpecial" summary="when you use Reckless Attack while raging, you also gain temporary hit points equal to your Constitution modifier">
    <tag group="abAction" tag="None"/>
    <tag group="abRange" tag="Personal"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[

      ~These calculations should only happen for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)
      field[abValue].value += field[xCount].value

      if (field[xCount].value > 1) then
        field[abText].text = "dice"
        perform assign[LvNamePar.AppValue]
        perform assign[LvNamePar.AppText]
        endif]]></eval>
    <eval phase="Render" priority="10000" index="2"><![CDATA[
      if (field[xIndex].value >= 2) then
        field[listname].text = field[thingname].text & " (" & field[xIndex].value & " dice)"
      else
        field[listname].text = field[thingname].text & " (" & field[xIndex].value & " die)"
        endif]]></eval>
    </thing>
  <thing id="c5CBbnBaCh" name="Battlerager Charge" description="While raging you can take the Dash action as a bonus action." compset="ClSpecial" summary="You can take the Dash action as a bonus action while you are raging.">
    <tag group="abRange" tag="Personal"/>
    <tag group="abAction" tag="Bonus"/>
    <eval phase="Render" priority="10000" index="2"><![CDATA[
      if (field[xIndex].value >= 2) then
        field[listname].text = field[thingname].text & " (" & field[xIndex].value & " dice)"
      else
        field[listname].text = field[thingname].text & " (" & field[xIndex].value & " die)"
        endif]]></eval>
    <eval phase="PostLevel" priority="10000"><![CDATA[

      ~These calculations should only happen for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)
      field[abValue].value += field[xCount].value

      if (field[xCount].value > 1) then
        field[abText].text = "dice"
        perform assign[LvNamePar.AppValue]
        perform assign[LvNamePar.AppText]
        endif]]></eval>
    </thing>
  <thing id="c5CBbnSpRe" name="Spiked Retribution" description="When a creature within 5 feet of you hits you with a melee attack, the attacker takes 3 piercing damage if you are raging, aren&apos;t incapacitated, and are wearing spiked armor." compset="ClSpecial" summary="">
    <tag group="abRange" tag="Personal"/>
    <tag group="abAction" tag="Free"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[

      ~These calculations should only happen for the first copy
      doneif (tagis[Helper.FirstCopy] = 0)

      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)
      field[abValue].value += field[xCount].value

      if (field[xCount].value > 1) then
        field[abText].text = "dice"
        perform assign[LvNamePar.AppValue]
        perform assign[LvNamePar.AppText]
        endif]]></eval>
    <eval phase="Render" priority="10000" index="2"><![CDATA[
      if (field[xIndex].value >= 2) then
        field[listname].text = field[thingname].text & " (" & field[xIndex].value & " dice)"
      else
        field[listname].text = field[thingname].text & " (" & field[xIndex].value & " die)"
        endif]]></eval>
    </thing>
  <thing id="g5CBirdpip" name="Birdpipes" description="Also called Pan pipes, satyr pipes or shalm." compset="Tools">
    <usesource source="5eSCAGCP"/>
    <tag group="ToolCat" tag="Instrument" name="Musical instrument" abbrev="Musical instrument"/>
    <tag group="GearType" tag="gtTools" name="Tools" abbrev="Tools"/>
    </thing>
  <thing id="g5CGlaur" name="Glaur" description="Short, curved horns, sometimes with valves." compset="Tools">
    <usesource source="5eSCAGCP"/>
    <tag group="ToolCat" tag="Instrument" name="Musical instrument" abbrev="Musical instrument"/>
    <tag group="GearType" tag="gtTools" name="Tools" abbrev="Tools"/>
    </thing>
  <thing id="g5CHandDru" name="Hand Drum" description="A double-headed skin drum with handles." compset="Tools">
    <usesource source="5eSCAGCP"/>
    <tag group="ToolCat" tag="Instrument" name="Musical instrument" abbrev="Musical instrument"/>
    <tag group="GearType" tag="gtTools" name="Tools" abbrev="Tools"/>
    </thing>
  <thing id="g5CLonghor" name="Longhorn" description="A sophisticated flute." compset="Tools">
    <usesource source="5eSCAGCP"/>
    <tag group="ToolCat" tag="Instrument" name="Musical instrument" abbrev="Musical instrument"/>
    <tag group="GearType" tag="gtTools" name="Tools" abbrev="Tools"/>
    </thing>
  <thing id="g5CShawm" name="Shawm" description="A double-reed similar to an oboe or a bassoon, gnomes like them." compset="Tools">
    <usesource source="5eSCAGCP"/>
    <tag group="ToolCat" tag="Instrument" name="Musical instrument" abbrev="Musical instrument"/>
    <tag group="GearType" tag="gtTools" name="Tools" abbrev="Tools"/>
    </thing>
  <thing id="g5CSonghor" name="Songhorn" description="A simple type of flute (recorder) often made of wood." compset="Tools">
    <usesource source="5eSCAGCP"/>
    <tag group="ToolCat" tag="Instrument" name="Musical instrument" abbrev="Musical instrument"/>
    <tag group="GearType" tag="gtTools" name="Tools" abbrev="Tools"/>
    </thing>
  <thing id="g5CTantan" name="Tantan" description="A halfling tambourine." compset="Tools">
    <usesource source="5eSCAGCP"/>
    <tag group="ToolCat" tag="Instrument" name="Musical instrument" abbrev="Musical instrument"/>
    <tag group="GearType" tag="gtTools" name="Tools" abbrev="Tools"/>
    </thing>
  <thing id="g5CThelarr" name="Thelarr" description="Sometimes called whistlecane, a simple reed-based wind instrumenta simple and easy-to-make wind instrument." compset="Tools">
    <usesource source="5eSCAGCP"/>
    <tag group="ToolCat" tag="Instrument" name="Musical instrument" abbrev="Musical instrument"/>
    <tag group="GearType" tag="gtTools" name="Tools" abbrev="Tools"/>
    </thing>
  <thing id="g5CTocken" name="Tocken" description="Carved oval bells hanging from a frame, often played with light wooden hammers." compset="Tools">
    <usesource source="5eSCAGCP"/>
    <tag group="ToolCat" tag="Instrument" name="Musical instrument" abbrev="Musical instrument"/>
    <tag group="GearType" tag="gtTools" name="Tools" abbrev="Tools"/>
    </thing>
  <thing id="g5CWargong" name="Wargong" description="Goblins and dwarves make these metal gongs, sometimes from enemy shields." compset="Tools">
    <usesource source="5eSCAGCP"/>
    <tag group="ToolCat" tag="Instrument" name="Musical instrument" abbrev="Musical instrument"/>
    <tag group="GearType" tag="gtTools" name="Tools" abbrev="Tools"/>
    </thing>
  <thing id="g5CYarting" name="Yarting" description="A sort of guitar." compset="Tools">
    <usesource source="5eSCAGCP"/>
    <tag group="ToolCat" tag="Instrument" name="Musical instrument" abbrev="Musical instrument"/>
    <tag group="GearType" tag="gtTools" name="Tools" abbrev="Tools"/>
    </thing>
  <thing id="g5CZulkoon" name="Zulkoon" description="A complex pump organ from Thay." compset="Tools">
    <usesource source="5eSCAGCP"/>
    <tag group="ToolCat" tag="Instrument" name="Musical instrument" abbrev="Musical instrument"/>
    <tag group="GearType" tag="gtTools" name="Tools" abbrev="Tools"/>
    </thing>
  <thing id="c5CBrdCoFo" name="College of Fochlucan" description="Placeholder" compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpBrd" name="Bard" abbrev="Bard"/>
    <tag group="abCategory" tag="BrdCollege" name="Bardic College" abbrev="Bardic College"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <bootstrap thing="cBrdCutWor">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cBrdMagSec">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cBrdPeeSki">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cBrdBoPrLo">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    </thing>
  <thing id="c5CBrdCoNO" name="College of New Olamn" description="Placeholder" compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpBrd" name="Bard" abbrev="Bard"/>
    <tag group="abCategory" tag="BrdCollege" name="Bardic College" abbrev="Bardic College"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <bootstrap thing="cBrdCutWor">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cBrdMagSec">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cBrdPeeSki">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cBrdBoPrLo">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    </thing>
  <thing id="c5CBbnBlRa" name="Black Raven" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="AllowRCust" tag="cfg5CTotWa" name="Totem Warrior Abilities" abbrev="Totem Warrior Abilities"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="BbnTotSpi" name="Barbarian Totem Spirit" abbrev="Barbarian Totem Spirit"/>
    <tag group="abDuration" tag="ConstRage" name="Constant While Raging" abbrev="rage"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    </thing>
  <thing id="c5CBbnGrif" name="Griffon" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="AllowRCust" tag="cfg5CTotWa" name="Totem Warrior Abilities" abbrev="Totem Warrior Abilities"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="BbnTotSpi" name="Barbarian Totem Spirit" abbrev="Barbarian Totem Spirit"/>
    <tag group="abDuration" tag="ConstRage" name="Constant While Raging" abbrev="rage"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    </thing>
  <thing id="c5CBbnSkPo" name="Sky Pony" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="AllowRCust" tag="cfg5CTotWa" name="Totem Warrior Abilities" abbrev="Totem Warrior Abilities"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="BbnTotSpi" name="Barbarian Totem Spirit" abbrev="Barbarian Totem Spirit"/>
    <tag group="abDuration" tag="ConstRage" name="Constant While Raging" abbrev="rage"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    </thing>
  <thing id="c5CBbnBlBe" name="Blue Bear" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="AllowRCust" tag="cfg5CTotWa" name="Totem Warrior Abilities" abbrev="Totem Warrior Abilities"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="BbnTotSpi" name="Barbarian Totem Spirit" abbrev="Barbarian Totem Spirit"/>
    <tag group="abDuration" tag="ConstRage" name="Constant While Raging" abbrev="rage"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
       doneif (hero.tagis[Hero.Raging] = 0)

       doneif (tagis[Helper.Disable] <> 0)

       ~ Foreach through all types of damage and pull the Resistance tags from them.
       foreach thing in DamageType where "!thingid.dtPsychic"
         perform eachthing.pulltags[DamageRes.?]
         nexteach

       perform forward[DamageRes.?]]]></eval>
    </thing>
  <thing id="cBbn5CThBe" name="Thunderbeast" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="AllowRCust" tag="cfg5CTotWa" name="Totem Warrior Abilities" abbrev="Totem Warrior Abilities"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="BbnTotSpi" name="Barbarian Totem Spirit" abbrev="Barbarian Totem Spirit"/>
    <tag group="abDuration" tag="ConstRage" name="Constant While Raging" abbrev="rage"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
       doneif (hero.tagis[Hero.Raging] = 0)

       doneif (tagis[Helper.Disable] <> 0)

       ~ Foreach through all types of damage and pull the Resistance tags from them.
       foreach thing in DamageType where "!thingid.dtPsychic"
         perform eachthing.pulltags[DamageRes.?]
         nexteach

       perform forward[DamageRes.?]]]></eval>
    </thing>
  <thing id="c5CBbnTrGh" name="Tree Ghost" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="AllowRCust" tag="cfg5CTotWa" name="Totem Warrior Abilities" abbrev="Totem Warrior Abilities"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="BbnTotSpi" name="Barbarian Totem Spirit" abbrev="Barbarian Totem Spirit"/>
    <tag group="abDuration" tag="ConstRage" name="Constant While Raging" abbrev="rage"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
       doneif (hero.tagis[Hero.Raging] = 0)

       doneif (tagis[Helper.Disable] <> 0)

       ~ Foreach through all types of damage and pull the Resistance tags from them.
       foreach thing in DamageType where "!thingid.dtPsychic"
         perform eachthing.pulltags[DamageRes.?]
         nexteach

       perform forward[DamageRes.?]]]></eval>
    </thing>
  <thing id="c5CBbnBlLi" name="Black Lion" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="AllowRCust" tag="cfg5CTotWa" name="Totem Warrior Abilities" abbrev="Totem Warrior Abilities"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="BbnTotSpi" name="Barbarian Totem Spirit" abbrev="Barbarian Totem Spirit"/>
    <tag group="abDuration" tag="ConstRage" name="Constant While Raging" abbrev="rage"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
       doneif (hero.tagis[Hero.Raging] = 0)

       doneif (tagis[Helper.Disable] <> 0)

       ~ Foreach through all types of damage and pull the Resistance tags from them.
       foreach thing in DamageType where "!thingid.dtPsychic"
         perform eachthing.pulltags[DamageRes.?]
         nexteach

       perform forward[DamageRes.?]]]></eval>
    </thing>
  <thing id="c5CBbnTWEl" name="Elk" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="AllowRCust" tag="cfg5CTotWa" name="Totem Warrior Abilities" abbrev="Totem Warrior Abilities"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="BbnTotSpi" name="Barbarian Totem Spirit" abbrev="Barbarian Totem Spirit"/>
    <tag group="abDuration" tag="ConstRage" name="Constant While Raging" abbrev="rage"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
       doneif (hero.tagis[Hero.Raging] = 0)

       doneif (tagis[Helper.Disable] <> 0)

       ~ Foreach through all types of damage and pull the Resistance tags from them.
       foreach thing in DamageType where "!thingid.dtPsychic"
         perform eachthing.pulltags[DamageRes.?]
         nexteach

       perform forward[DamageRes.?]]]></eval>
    </thing>
  <thing id="c5CBbnTWTi" name="Tiger" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="AllowRCust" tag="cfg5CTotWa" name="Totem Warrior Abilities" abbrev="Totem Warrior Abilities"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="BbnTotSpi" name="Barbarian Totem Spirit" abbrev="Barbarian Totem Spirit"/>
    <tag group="abDuration" tag="ConstRage" name="Constant While Raging" abbrev="rage"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
       doneif (hero.tagis[Hero.Raging] = 0)

       doneif (tagis[Helper.Disable] <> 0)

       ~ Foreach through all types of damage and pull the Resistance tags from them.
       foreach thing in DamageType where "!thingid.dtPsychic"
         perform eachthing.pulltags[DamageRes.?]
         nexteach

       perform forward[DamageRes.?]]]></eval>
    </thing>
  <thing id="c5CBbnABEl" name="Elk" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="AllowRCust" tag="cfg5CTotWa" name="Totem Warrior Abilities" abbrev="Totem Warrior Abilities"/>
    <tag group="Helper" tag="Secondary" name="Secondary" abbrev="Secondary"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="BbnAspBeas" name="Barbarian Aspect of the Beast" abbrev="Barbarian Aspect of the Beast"/>
    <tag group="abDuration" tag="ConstRage" name="Constant While Raging" abbrev="rage"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <eval phase="Render" priority="10000" index="2"><![CDATA[
      doneif (tagis[Helper.Disable] <> 0)

      #situational[hero.child[aSTR], "Advantage on checks made to push, pull, lift, or break objects", field[thingname].text]]]></eval>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      doneif (tagis[Helper.Disable] <> 0)

      ~ double our encumbrance
      herofield[tEncum].value *= 2]]></eval>
    </thing>
  <thing id="c5CBbnABTi" name="Tiger" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="AllowRCust" tag="cfg5CTotWa" name="Totem Warrior Abilities" abbrev="Totem Warrior Abilities"/>
    <tag group="Helper" tag="Secondary" name="Secondary" abbrev="Secondary"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="BbnAspBeas" name="Barbarian Aspect of the Beast" abbrev="Barbarian Aspect of the Beast"/>
    <tag group="abDuration" tag="ConstRage" name="Constant While Raging" abbrev="rage"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <eval phase="Render" priority="10000" index="2"><![CDATA[
      doneif (tagis[Helper.Disable] <> 0)

      #situational[hero.child[aSTR], "Advantage on checks made to push, pull, lift, or break objects", field[thingname].text]]]></eval>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      doneif (tagis[Helper.Disable] <> 0)

      ~ double our encumbrance
      herofield[tEncum].value *= 2]]></eval>
    </thing>
  <thing id="c5CBbnTAEl" name="Elk" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="AllowRCust" tag="cfg5CTotWa" name="Totem Warrior Abilities" abbrev="Totem Warrior Abilities"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="BbnTotAttn" name="Barbarian Totemic Attunement" abbrev="Barbarian Totemic Attunement"/>
    <tag group="abDuration" tag="ConstRage" name="Constant While Raging" abbrev="rage"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    </thing>
  <thing id="c5CBbnTATi" name="Tiger" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="AllowRCust" tag="cfg5CTotWa" name="Totem Warrior Abilities" abbrev="Totem Warrior Abilities"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abCategory" tag="BbnTotAttn" name="Barbarian Totemic Attunement" abbrev="Barbarian Totemic Attunement"/>
    <tag group="abDuration" tag="ConstRage" name="Constant While Raging" abbrev="rage"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    </thing>
  <thing id="c5CBrdCoHe" name="College of the Herald" description="Placeholder" compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpBrd" name="Bard" abbrev="Bard"/>
    <tag group="abCategory" tag="BrdCollege" name="Bardic College" abbrev="Bardic College"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <bootstrap thing="cBrdCutWor">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cBrdMagSec">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cBrdPeeSki">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cBrdBoPrLo">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    </thing>
  <thing id="c5CRogSwas" name="Swashbuckler" description="Whereas many warriors brave battle encased in suits of armor and wielding large and powerful weapons, swashbucklers rely on speed, agility, and panache. Swashbucklers dart in and out of the fray, wearing down opponents with lunges and feints, all while foiling the powerful attacks against them with a flick of the wrist and a flash of the blade. Their deft parries and fatal ripostes are carnage elevated to an art form. Some may be arrogant and devil-may-care, but behind this veneer lie people deeply dedicated to their craft. Those of smaller races are particularly driven to prove that the right mix of discipline and daring is the perfect counter to size and strength, and enjoy nothing more than taking down lumbering brutes and bullies." compset="CustomSpec" summary="Swashbucklers rely on speed, agility, and panache" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpRog" name="Rogue" abbrev="Rogue"/>
    <tag group="abCategory" tag="RogArchety" name="Rogue Archetype" abbrev="Rogue Archetype"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="ProductId" tag="Wizards"/>
    <bootstrap thing="c5CRogPana">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="c5CRogEleM">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="c5CRogMasD">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="c5CRogFaFo">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CRoqRaAu">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    </thing>
  <thing id="c5CRogFaFo" name="Fancy Footwork" description="If during your turn you make a melee attack against a creature it cannot make melee attacks against you until after your turn." compset="ClSpecial">
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    </thing>
  <thing id="c5CRoqRaAu" name="Rakish Audacity" description="Add your Charisma modifier to your initiative rolls.\n\nAlso you can use your Sneak attack if your target is the only creature within 5 feet of you (Other rules for Sneak Attack still apply to you, however.)" compset="ClSpecial">
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[ ~ If we're disabled, do nothing & 
 doneif (tagis[Helper.Disable] = 1)
   
 hero.child[Initiative].field[Bonus].value += #attrmod[aCHA]]]></eval>
    </thing>
  <thing id="c5CRogPana" name="Panache" description="Make a Charisma (Persuasion) check as an action against a creature that can hear and understand you, contested by a creature&apos;s Wisdom (Insight) check. Success against a hostile creature gives it disadvantage on attack rolls against anyone other than you, and they can only make opportunity attacks against you for the next minute, though it is broken early if the distance between you ever exceeds 60 feet or one of your companions affects it with a spell or attacks it.\n\nSuccess against a non-hostile, charms it for 1 minute, but ends immediately if you or your companions harm it." compset="ClSpecial">
    <fieldval field="abDuration" value="1"/>
    <tag group="abRange" tag="Hearing"/>
    <tag group="abDuration" tag="Minute"/>
    <tag group="abAction" tag="Action"/>
    </thing>
  <thing id="c5CRogEleM" name="Elegant Maneuver" description="Gain advantage on the next Dexterity (Acrobatics) or Strength (Athletics) check this turn by using a bonus action." compset="ClSpecial">
    <tag group="abAction" tag="Bonus"/>
    </thing>
  <thing id="c5CRogMasD" name="Master Duelist" description="Once per short or long rest you can immediately reroll a missed attack roll with advantage." compset="ClSpecial">
    <tag group="abAction" tag="Bonus"/>
    </thing>
  <thing id="c5CClrArca" name="Arcana" description="Placeholder" compset="CustomSpec" uniqueness="unique">
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpClr" name="Cleric" abbrev="Cleric"/>
    <tag group="abCategory" tag="ClrDomain" name="Cleric Domain" abbrev="Cleric Domain"/>
    <bootstrap thing="c5CClrArIn">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CClrArAb">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="c5CClrSpBr">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CClrPotS">
      <autotag group="ClSpecWhen" tag="8"/>
      </bootstrap>
    <bootstrap thing="c5CClrArMa">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="spDeteMagi">
      <autotag group="BonusSplAt" tag="1"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spMagiMiss">
      <autotag group="BonusSplAt" tag="1"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spMagiWeap">
      <autotag group="BonusSplAt" tag="3"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="sp5CNyMaAu">
      <autotag group="BonusSplAt" tag="3"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spDispMagi">
      <autotag group="BonusSplAt" tag="5"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spMagiCirc">
      <autotag group="BonusSplAt" tag="5"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spArcaEye">
      <autotag group="BonusSplAt" tag="7"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="sp5CLeSeCh">
      <autotag group="BonusSplAt" tag="7"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spPlanBind">
      <autotag group="BonusSplAt" tag="9"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="spTeleCirc">
      <autotag group="BonusSplAt" tag="9"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpClr"/>
      </bootstrap>
    <bootstrap thing="c5CClrArM2">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="c5CClrArBa">
      <autotag group="ClSpecWhen" tag="5"/>
      </bootstrap>
    </thing>
  <thing id="c5CClrArIn" name="Arcane Initiate" description="You become proficient in Intelligence (Arcana), and gain two Wizard cantrips, that count as Cleric cantrips.\n\n{i}{b}Note:{/b} Once you have selected your 2 wizard cantrips, you must add them manually to your list of prepared spell.{/i}" compset="ClSpecial">
    <comment>Note: Once selected, your chosen cantrips must be manually added to you list of prepared spells.</comment>
    <fieldval field="usrCandid1" value="component.BaseSpell &amp; sLevel.0 &amp; sClass.cHelpWiz"/>
    <fieldval field="usrCandid2" value="component.BaseSpell &amp; sLevel.0 &amp; sClass.cHelpWiz"/>
    <tag group="ChooseSrc1" tag="Thing" name="All Things" abbrev="All Things"/>
    <tag group="ChooseSrc2" tag="Thing" name="All Things" abbrev="All Things"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[    doneif (tagis[Helper.ShowSpec] = 0)

    doneif (tagis[Helper.Disable] <> 0)

    if (field[usrChosen1].ischosen <> 0) then
      perform field[usrChosen1].chosen.pulltags[ClsAllowSp.?]
    endif

    if (field[usrChosen2].ischosen <> 0) then
      perform field[usrChosen2].chosen.pulltags[ClsAllowSp.?]
    endif

    perform root.linkage[table].pushtags[ClsAllowSp.?]]]></eval>
    <eval phase="First"><![CDATA[
      ~ If we're disabled, do nothing & 
      doneif (tagis[Helper.Disable] = 1)

perform hero.assign[ProfSkill.skArcana]]]></eval>
    <evalrule phase="PostLevel" priority="10000" message="Must add chosen spells to spells known!" summary="Must add chosen spells to spells known!"><![CDATA[
      validif (tagis[Helper.ShowSpec] = 0)

      validif (tagis[Helper.Disable] <> 0)

      var spellname1 as string
      var spellname2 as string
      var searchexpr as string
      var messnames as string
      var foundone as number

      @valid = 1

      if (field[usrChosen1].ischosen <> 0) then
        foundone = 0
        searchexpr = "KnowSpell." & field[usrChosen1].chosen.idstring & " & SpellType.cHelpClr"


        foreach pick in hero from BaseSpell where searchexpr
          foundone = 1

          ~ If this copy of the ability is bootstrapped by the Arcane domain, the chosen spells should be marked as Free, because they don't count against our spells known limit.
          if (root.tagis[Ability.c5CClrArca] <> 0) then
            perform eachpick.assign[Helper.Free]
            endif
          nexteach

        if (foundone = 0) then
          spellname1 = field[usrChosen1].chosen.field[name].text
          @valid = 0
          endif
        endif

      if (field[usrChosen2].ischosen <> 0) then
        foundone = 0
        searchexpr = "KnowSpell." & field[usrChosen2].chosen.idstring & " & SpellType.cHelpClr"

        foreach pick in hero from BaseSpell where searchexpr
          foundone = 1

          ~ If this copy of the ability is bootstrapped by the Arcane domain, the chosen spells should be marked as Free, because they don't count against our spells known limit.
          if (root.tagis[Ability.c5CClrArca] <> 0) then
            perform eachpick.assign[Helper.Free]
            endif
          nexteach

        if (foundone = 0) then
          spellname2 = field[usrChosen2].chosen.field[name].text
          @valid = 0
          endif
        endif

      if (@valid = 0) then
        messnames = splice(messnames, spellname1, ", ")
        messnames = splice(messnames, spellname2, ", ")
        @message = "You have selected the following spells for Arcane Initiate but not added them to your Cleric spells known: " & messnames
        endif]]></evalrule>
    </thing>
  <thing id="c5CClrArAb" name="Channel Divinity: Arcane Abjuration" description="Present your holy symbol as an action to make a celestial, elemental, fey or fiend of your choice that can see or hear you and is within 30 feet make a Wisdom save or be turned till it takes damage or one minute has passed." compset="ClSpecial" summary="You can use your Channel Divinity to abjure otherworldly creatures.">
    <fieldval field="abDuration" value="1"/>
    <fieldval field="abRange" value="30"/>
    <tag group="abDuration" tag="Minute" name="Minute" abbrev="min"/>
    <tag group="abRange" tag="Feet" name="Feet" abbrev="ft."/>
    <tag group="abSave" tag="aWIS" name="Wisdom" abbrev="Wisdom"/>
    <tag group="StandardDC" tag="aWIS"/>
    <tag group="abAction" tag="Action" name="Action" abbrev="Act"/>
    <tag group="abCategory" tag="ClrChanDiv"/>
    </thing>
  <thing id="c5CClrSpBr" name="Spell Breaker" description="You can end one spell of your choice (up to spell level equal to the healing spell slot used) on creatures you restore hit points to." compset="ClSpecial" summary="When you restore hit points to an ally with a spell of 1st level or higher, you can also end one spell of your choice on that creature.">
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abRange" tag="Personal"/>
    <tag group="abDuration" tag="Constant"/>
    </thing>
  <thing id="c5CClrArMa" name="Arcane Mastery" description="Add one wizard spell you choose for each of level 6, 7, 8 and 9 to your list of domain spells, which then count as cleric spells for you.\n\n{i}{b}Note:{/b} Once you have chosen your 4 wizard spells they will be listed with your list of cleric spells. You must then add them to your list of memorized spells manually.{/i}" compset="ClSpecial">
    <comment><![CDATA["KnowSpell." & field[usrChosen1].chosen.idstring & " & SpellType.cHelpClr"

KnowSpell.spDisinteg & SpellType.cHelpClr]]></comment>
    <fieldval field="usrCandid1" value="component.BaseSpell &amp; sLevel.6 &amp; sClass.cHelpWiz"/>
    <fieldval field="usrCandid2" value="component.BaseSpell &amp; sLevel.7 &amp; sClass.cHelpWiz"/>
    <tag group="ChooseSrc2" tag="Thing"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[  doneif (tagis[Helper.ShowSpec] = 0)

    doneif (tagis[Helper.Disable] <> 0)

    if (field[usrChosen1].ischosen <> 0) then
      perform field[usrChosen1].chosen.pulltags[ClsAllowSp.?]
    endif

    if (field[usrChosen2].ischosen <> 0) then
      perform field[usrChosen2].chosen.pulltags[ClsAllowSp.?]
    endif

    perform root.linkage[table].pushtags[ClsAllowSp.?]
    ~perform root.linkage[table].assign[sClass.cHelpClr]
    hero.child[cHelpClr].field[cMaxSpMem].value += 2]]></eval>
    <evalrule phase="PostLevel" priority="10000" message="Must add chosen spells to spells known!" summary="Must add chosen spells to spells known!"><![CDATA[
      validif (tagis[Helper.ShowSpec] = 0)

      validif (tagis[Helper.Disable] <> 0)

      var spellname1 as string
      var spellname2 as string
      var searchexpr as string
      var messnames as string
      var foundone as number

      @valid = 1

      if (field[usrChosen1].ischosen <> 0) then
        foundone = 0
        searchexpr = "KnowSpell." & field[usrChosen1].chosen.idstring & " & SpellType.cHelpClr"


        foreach pick in hero from BaseSpell where searchexpr
          foundone = 1

          ~ If this copy of the ability is bootstrapped by the Arcane domain, the chosen spells should be marked as Free, because they don't count against our spells known limit.
          if (root.tagis[Ability.c5CClrArca] <> 0) then
            perform eachpick.assign[Helper.Free]
            perform eachpick.assign[Helper.Memorized]
            endif
          nexteach

        if (foundone = 0) then
          spellname1 = field[usrChosen1].chosen.field[name].text
          @valid = 0
          endif
        endif

      if (field[usrChosen2].ischosen <> 0) then
        foundone = 0
        searchexpr = "KnowSpell." & field[usrChosen2].chosen.idstring & " & SpellType.cHelpClr"

        foreach pick in hero from BaseSpell where searchexpr
          foundone = 1

          ~ If this copy of the ability is bootstrapped by the Arcane domain, the chosen spells should be marked as Free, because they don't count against our spells known limit.
          if (root.tagis[Ability.c5CClrArca] <> 0) then
            perform eachpick.assign[Helper.Free]
            endif
          nexteach

        if (foundone = 0) then
          spellname2 = field[usrChosen2].chosen.field[name].text
          @valid = 0
          endif
        endif

      if (@valid = 0) then
        messnames = splice(messnames, spellname1, ", ")
        messnames = splice(messnames, spellname2, ", ")
        @message = "You have selected the following spells for Arcane Mastery but not added them to your Cleric spells known: " & messnames
        endif]]></evalrule>
    </thing>
  <thing id="c5CDrdCiSw" name="Circle of Swords" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="SpecSource" tag="cHelpDrd" name="Druid" abbrev="Druid"/>
    <bootstrap thing="c5CDrdCirF">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="c5CDrdPriS">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CDrdElWS">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CDrdThoF">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="c5CDrdCoWS">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    </thing>
  <thing id="c5CDrdEncL" name="The Emerald Enclave (Land)" description="Placeholder" compset="CustomSpec" uniqueness="unique">
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpDrd" name="Druid" abbrev="Druid"/>
    <bootstrap thing="cDrdNatRec">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cDrdCirSpe">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cDrdLanStr">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cDrdNatWar">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cDrdNatSan">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cDrdBonCan">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    </thing>
  <thing id="c5CDrdEncM" name="The Emerald Enclave (Moon)" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="SpecSource" tag="cHelpDrd" name="Druid" abbrev="Druid"/>
    <bootstrap thing="c5CDrdCirF">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="c5CDrdPriS">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CDrdElWS">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CDrdThoF">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="c5CDrdCoWS">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    </thing>
  <thing id="c5CDrdMoSh" name="The Moonshea Circles" description="Placeholder" compset="CustomSpec" uniqueness="unique">
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpDrd" name="Druid" abbrev="Druid"/>
    <bootstrap thing="cDrdNatRec">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="cDrdCirSpe">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="cDrdLanStr">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cDrdNatWar">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="cDrdNatSan">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <bootstrap thing="cDrdBonCan">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="c5CDrdMoWe">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    </thing>
  <thing id="c5CDrdMoWe" name="Moonwells" description="Placeholder..." compset="ClSpecial" summary="Cast spells with verbal and somatic components in wild shape.">
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    </thing>
  <thing id="c5CFtrPuDK" name="Banneret (Purple Dragon Knight)" description="Placeholder" compset="CustomSpec" uniqueness="unique">
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpFtr" name="Fighter" abbrev="Fighter"/>
    <tag group="abCategory" tag="FtrMarArch" name="Fighter Martial Archetype" abbrev="Fighter Martial Archetype"/>
    <bootstrap thing="c5CFtrRaCr">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CFtrRoEn">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="c5CFtrInSu">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CFtrBulw">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    </thing>
  <thing id="c5CFtrRaCr" name="Rallying Cry" description="Placeholder..." compset="ClSpecial">
    <fieldval field="abRange" value="60"/>
    <tag group="abDuration" tag="Instant" name="Instantaneous" abbrev="inst"/>
    <tag group="abRange" tag="Feet" name="Feet" abbrev="ft."/>
    <tag group="abAction" tag="Free" name="Free" abbrev="Free"/>
    </thing>
  <thing id="c5CFtrRoEn" name="Royal Envoy" description="Placeholder..." compset="ClSpecial"></thing>
  <thing id="c5CFtrInSu" name="Inspiring Surge" description="Placeholder..." compset="ClSpecial">
    <fieldval field="abRange" value="60"/>
    <tag group="abRange" tag="Feet"/>
    </thing>
  <thing id="c5CFtrBulw" name="Bulwark" description="Placeholder..." compset="ClSpecial">
    <fieldval field="abRange" value="60"/>
    <tag group="abRange" tag="Feet"/>
    </thing>
  <thing id="c5CMnkDaMo" name="The Dark Moon" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="SpecSource" tag="cHelpMnk" name="Monk" abbrev="Monk"/>
    <tag group="abCategory" tag="MnkMonTrad" name="Monk Monastic Tradition" abbrev="Monk Monastic Tradition"/>
    <bootstrap thing="c5CMnkShaS">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CMnkCloS">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="c5CMnkOppo">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="c5CMnkShaA">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    </thing>
  <thing id="c5CMnkHiFi" name="Way of Hin Fist" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpMnk" name="Monk" abbrev="Monk"/>
    <tag group="abCategory" tag="MnkMonTrad" name="Monk Monastic Tradition" abbrev="Monk Monastic Tradition"/>
    <bootstrap thing="cMnkWhoBod">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cMnkTranqu">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cMnkQuiPal">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="cMnkOpHaTe">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    </thing>
  <thing id="c5CMnkOrYR" name="Order of the Yellow Rose" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpMnk" name="Monk" abbrev="Monk"/>
    <tag group="abCategory" tag="MnkMonTrad" name="Monk Monastic Tradition" abbrev="Monk Monastic Tradition"/>
    <bootstrap thing="cMnkWhoBod">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="cMnkTranqu">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="cMnkQuiPal">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="cMnkOpHaTe">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    </thing>
  <thing id="c5CWotLDth" name="Way of the Long Death" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpMnk" name="Monk" abbrev="Monk"/>
    <tag group="abCategory" tag="MnkMonTrad" name="Monk Monastic Tradition" abbrev="Monk Monastic Tradition"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <bootstrap thing="c5CHourRea">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CMastDth">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="c5CTouchLD">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    <bootstrap thing="c5CToOfDth">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    </thing>
  <thing id="c5CToOfDth" name="Touch of Death" description="Placeholder..." compset="ClSpecial">
    <fieldval field="abRange" value="5"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="abAction" tag="None"/>
    <tag group="abDuration" tag="Instant"/>
    </thing>
  <thing id="c5CHourRea" name="Hour of Reaping" description="Placeholder..." compset="ClSpecial">
    <fieldval field="abRange" value="30"/>
    <fieldval field="abDuration" value="end of your next turn"/>
    <tag group="abAction" tag="Action"/>
    <tag group="abDuration" tag="Instant"/>
    <tag group="abSave" tag="aWIS"/>
    <tag group="abRange" tag="Feet"/>
    </thing>
  <thing id="c5CMastDth" name="Mastery of Death" description="Placeholder..." compset="ClSpecial">
    <tag group="abDuration" tag="Permanent" name="Permanent" abbrev="perm"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="abAction" tag="None"/>
    </thing>
  <thing id="c5CTouchLD" name="Touch of the Long Death" description="Placeholder..." compset="ClSpecial">
    <tag group="abAction" tag="Action"/>
    </thing>
  <thing id="c5CWaySSou" name="Way of the Sun Soul" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpMnk" name="Monk" abbrev="Monk"/>
    <tag group="abCategory" tag="MnkMonTrad" name="Monk Monastic Tradition" abbrev="Monk Monastic Tradition"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <bootstrap thing="c5CRadSunB">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CSearSun">
      <autotag group="ClSpecWhen" tag="11"/>
      </bootstrap>
    <bootstrap thing="c5CSearArS">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CWSunShi">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    </thing>
  <thing id="c5CRadSunB" name="Radiant Sun Bolt" description="Placeholder..." compset="ClSpecial">
    <tag group="abAction" tag="None"/>
    </thing>
  <thing id="c5CSearArS" name="Searing Arc Strike" description="Placeholder..." compset="ClSpecial">
    <tag group="abAction" tag="Bonus"/>
    <bootstrap thing="spBurnHand">
      <autotag group="BonusSplAt" tag="3"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpMnk"/>
      </bootstrap>
    </thing>
  <thing id="c5CSearSun" name="Searing Sunburst" description="Placeholder..." compset="ClSpecial">
    <fieldval field="abRange" value="150"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="abAction" tag="Action"/>
    <tag group="abSave" tag="aCON"/>
    </thing>
  <thing id="c5CWSunShi" name="Sun Shield" description="Placeholder..." compset="ClSpecial">
    <fieldval field="abRange" value="30"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="abAction" tag="Action"/>
    </thing>
  <thing id="c5CMastMin" name="Mastermind" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <usesource source="5eSCAGCP"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpRog" name="Rogue" abbrev="Rogue"/>
    <tag group="abCategory" tag="RogArchety" name="Rogue Archetype" abbrev="Rogue Archetype"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <tag group="ProductId" tag="Wizards"/>
    <bootstrap thing="c5CMastInt">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CMastTac">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CInsiMan">
      <autotag group="ClSpecWhen" tag="9"/>
      </bootstrap>
    <bootstrap thing="c5CMisdire">
      <autotag group="ClSpecWhen" tag="13"/>
      </bootstrap>
    <bootstrap thing="c5CSoulDec">
      <autotag group="ClSpecWhen" tag="17"/>
      </bootstrap>
    </thing>
  <thing id="c5CMastInt" name="Master of Intrigue" description="Placeholder..." compset="ClSpecial">
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    </thing>
  <thing id="c5CMastTac" name="Master of Tactics" description="Placeholder..." compset="ClSpecial">
    <tag group="abAction" tag="Bonus"/>
    </thing>
  <thing id="c5CInsiMan" name="Insightful Manipulator" description="Placeholder..." compset="ClSpecial">
    <tag group="abAction" tag="Bonus"/>
    </thing>
  <thing id="c5CMisdire" name="Misdirection" description="Placeholder..." compset="ClSpecial">
    <tag group="abAction" tag="Reaction"/>
    </thing>
  <thing id="c5CSoulDec" name="Sould of Deceit" description="Placeholder..." compset="ClSpecial">
    <tag group="abAction" tag="Free"/>
    </thing>
  <thing id="c5CPalOaCr" name="Oath of the Crown" description="Placeholder..." compset="CustomSpec" uniqueness="unique">
    <tag group="Helper" tag="Secondary" name="Secondary" abbrev="Secondary"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpPal" name="Paladin" abbrev="Paladin"/>
    <tag group="abCategory" tag="PalSacOath" name="Paladin Sacred Oath" abbrev="Paladin Sacred Oath"/>
    <bootstrap thing="c5CPalTeCr">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CPalCDCC">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    <bootstrap thing="c5CPalDiAl">
      <autotag group="ClSpecWhen" tag="7"/>
      </bootstrap>
    <bootstrap thing="c5CPalUnSp">
      <autotag group="ClSpecWhen" tag="15"/>
      </bootstrap>
    <bootstrap thing="c5CPalExCh">
      <autotag group="ClSpecWhen" tag="20"/>
      </bootstrap>
    <bootstrap thing="spCommand">
      <autotag group="BonusSplAt" tag="3"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="sp5CCompDu">
      <autotag group="BonusSplAt" tag="3"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="spWardBond">
      <autotag group="BonusSplAt" tag="5"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="spZoneTrut">
      <autotag group="BonusSplAt" tag="5"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="sp5CAurVit">
      <autotag group="BonusSplAt" tag="9"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="spSpirGuar">
      <autotag group="BonusSplAt" tag="9"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="spBanishme">
      <autotag group="BonusSplAt" tag="13"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="sp5CGuardF">
      <autotag group="BonusSplAt" tag="13"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="sp5CCircPo">
      <autotag group="BonusSplAt" tag="17"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="spGeas">
      <autotag group="BonusSplAt" tag="17"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="SpellType" tag="cHelpPal"/>
      </bootstrap>
    <bootstrap thing="c5CPalCDTT">
      <autotag group="ClSpecWhen" tag="3"/>
      </bootstrap>
    </thing>
  <thing id="c5CPalTeCr" name="Tenets of the Crown" description="Placeholder..." compset="ClSpecial">
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal"/>
    </thing>
  <thing id="c5CPalCDCC" name="Channel Divinity: Champion Challenge" description="Placeholder..." compset="ClSpecial" summary="You issue a challenge that compels other creatures to do battle with you">
    <fieldval field="abRange" value="30"/>
    <tag group="abAction" tag="Action" name="Action" abbrev="Act"/>
    <tag group="abCategory" tag="PalChanDiv" name="Paladin Channel Divinity" abbrev="Paladin Channel Divinity"/>
    <tag group="abRange" tag="Feet" name="Feet" abbrev="ft."/>
    <tag group="abSave" tag="aWIS" name="Wisdom" abbrev="Wisdom"/>
    <tag group="StandardDC" tag="aCHA" name="Charisma" abbrev="Charisma"/>
    </thing>
  <thing id="c5CPalCDTT" name="Channel Divinity: Turn the Tide" description="Placehplder..." compset="ClSpecial" summary="As a bonus action, you can bolster injured creatures with your Channel Divinity.">
    <fieldval field="abRange" value="30"/>
    <tag group="abCategory" tag="PalChanDiv" name="Paladin Channel Divinity" abbrev="Paladin Channel Divinity"/>
    <tag group="abRange" tag="Feet" name="Feet" abbrev="ft."/>
    <tag group="abAction" tag="Bonus"/>
    </thing>
  <thing id="c5CPalDiAl" name="Divine Allegiance" description="Placeholder..." compset="ClSpecial" summary="You can use your reaction to magically substitute your own health for that of the target creature">
    <fieldval field="abRange" value="5"/>
    <tag group="abAction" tag="Reaction"/>
    <tag group="abRange" tag="Feet"/>
    </thing>
  <thing id="c5CPalUnSp" name="Unyielding Spirit" description="Placeholder..." compset="ClSpecial" summary="You have advantage on saving throws to avoid becoming paralyzed or stunned.">
    <tag group="abAction" tag="None"/>
    </thing>
  <thing id="c5CPalExCh" name="Exalted Champion" description="Placeholder..." compset="ClSpecial" summary="Your presence on the field of battle is an inspiration  to those dedicated to your cause.">
    <fieldval field="abRange" value="30"/>
    <tag group="abAction" tag="Action"/>
    <tag group="abRange" tag="Feet"/>
    </thing>
  <thing id="c5CClrArM2" name="Arcane Mastery" description="Add one wizard spell you choose for each of level 6, 7, 8 and 9 to your list of domain spells, which then count as cleric spells for you.\n\n{i}{b}Note:{/b} Once you have chosen your 4 wizard spells they will be listed with your list of cleric spells. You must then add them to your list of memorized spells manually.{/i}" compset="ClSpecial">
    <comment>Helper.Helper</comment>
    <fieldval field="usrCandid1" value="component.BaseSpell &amp; sLevel.8 &amp; sClass.cHelpWiz"/>
    <fieldval field="usrCandid2" value="component.BaseSpell &amp; sLevel.9 &amp; sClass.cHelpWiz"/>
    <usesource source="5eSCAGCP" parent="p5eBooks" name="Sword Coast Adventures Guide"/>
    <tag group="ChooseSrc1" tag="Thing" name="All Things" abbrev="All Things"/>
    <tag group="ChooseSrc2" tag="Thing" name="All Things" abbrev="All Things"/>
    <tag group="Helper" tag="Helper" name="Helper" abbrev="Helper"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[   doneif (tagis[Helper.ShowSpec] = 0)

    doneif (tagis[Helper.Disable] <> 0)

    if (field[usrChosen1].ischosen <> 0) then
      perform field[usrChosen1].chosen.pulltags[ClsAllowSp.?]
    endif

    if (field[usrChosen2].ischosen <> 0) then
      perform field[usrChosen2].chosen.pulltags[ClsAllowSp.?]
    endif

    perform root.linkage[table].pushtags[ClsAllowSp.?]
    ~perform root.linkage[table].assign[sClass.cHelpClr]
    hero.child[cHelpClr].field[cMaxSpMem].value += 2]]></eval>
    <evalrule phase="PostLevel" priority="10000" message="Must add chosen spells to spells known!" summary="Must add chosen spells to spells known!"><![CDATA[
      validif (tagis[Helper.ShowSpec] = 0)

      validif (tagis[Helper.Disable] <> 0)

      var spellname1 as string
      var spellname2 as string
      var searchexpr as string
      var messnames as string
      var foundone as number

      @valid = 1

      if (field[usrChosen1].ischosen <> 0) then
        foundone = 0
        searchexpr = "KnowSpell." & field[usrChosen1].chosen.idstring & " & SpellType.cHelpClr"


        foreach pick in hero from BaseSpell where searchexpr
          foundone = 1

          ~ If this copy of the ability is bootstrapped by the Arcane domain, the chosen spells should be marked as Free, because they don't count against our spells known limit.
          if (root.tagis[Ability.c5CClrArca] <> 0) then
            perform eachpick.assign[Helper.Free]
            endif
          nexteach

        if (foundone = 0) then
          spellname1 = field[usrChosen1].chosen.field[name].text
          @valid = 0
          endif
        endif

      if (field[usrChosen2].ischosen <> 0) then
        foundone = 0
        searchexpr = "KnowSpell." & field[usrChosen2].chosen.idstring & " & SpellType.cHelpClr"

        foreach pick in hero from BaseSpell where searchexpr
          foundone = 1

          ~ If this copy of the ability is bootstrapped by the Arcane domain, the chosen spells should be marked as Free, because they don't count against our spells known limit.
          if (root.tagis[Ability.c5CClrArca] <> 0) then
            perform eachpick.assign[Helper.Free]
            endif
          nexteach

        if (foundone = 0) then
          spellname2 = field[usrChosen2].chosen.field[name].text
          @valid = 0
          endif
        endif

      if (@valid = 0) then
        messnames = splice(messnames, spellname1, ", ")
        messnames = splice(messnames, spellname2, ", ")
        @message = "You have selected the following spells for Arcane Mastery but not added them to your Cleric spells known: " & messnames
        endif]]></evalrule>
    </thing>
  <thing id="c5CClrArBa" name="Arcane Banishment" description="Banish those that fail save against your Arcane Abjuration (as the Banishment spell, but no concentration required)." compset="ClSpecial">
    <usesource source="5eSCAGCP" parent="p5eBooks" name="Sword Coast Adventures Guide"/>
    <tag group="StandardDC" tag="aWIS" name="Wisdom" abbrev="Wisdom"/>
    <tag group="abAction" tag="None" name="No action" abbrev="None"/>
    <tag group="abDuration" tag="Constant" name="Constant" abbrev="cons"/>
    <tag group="abRange" tag="Personal" name="Personal" abbrev="pers"/>
    <tag group="abSave" tag="aWIS" name="Wisdom" abbrev="Wisdom"/>
    <tag group="LvNamePar" tag="AppText" name="Append &quot;field[abText].text&quot;" abbrev="Append &quot;field[abText].text&quot;"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
     var cr as number
     var level as number
     level = #levelcount[Cleric]
if (level >= 17) then 
cr = 4
elseif (level >= 14) then 
cr = 3
elseif (level >= 11) then 
cr = 2
elseif (level >= 8) then 
cr = 1
elseif (level >= 5) then 
cr = .5
endif

     field[abText].text = "CR " & cr]]></eval>
    <eval phase="Render" priority="10000" index="2"><![CDATA[
     var cr as number
     var level as number
     level = #levelcount[Cleric]
if (level >= 17) then 
cr = 4
elseif (level >= 14) then 
cr = 3
elseif (level >= 11) then 
cr = 2
elseif (level >= 8) then 
cr = 1
elseif (level >= 5) then 
cr = .5
endif
     
     field[listname].text = field[thingname].text & " (CR " & cr & ")"]]></eval>
    </thing>
  </document>
